<head><style>.char-layout[data-v-1faf526a]{display:flex;flex-direction:column;gap:12px}.section-head[data-v-1faf526a]{font-size:.95rem;border-bottom:3px solid var(--c-celadon);display:inline-block;margin-bottom:8px;font-weight:bold}.title-grid[data-v-1faf526a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px;margin-bottom:12px}.title-box[data-v-1faf526a]{border:1.5px solid var(--c-granite);padding:7px;background:#fff;box-shadow:2px 2px 0 var(--c-ash-grey)}.title-name[data-v-1faf526a]{background:var(--c-granite);color:var(--c-celadon);display:inline-block;padding:2px 4px;font-size:.72rem;font-weight:bold;margin-bottom:3px}.title-effect[data-v-1faf526a]{font-size:.78rem;margin-bottom:3px}.title-quote[data-v-1faf526a]{font-size:.7rem;color:var(--c-grey-olive);font-style:italic}.attire-list[data-v-1faf526a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:7px}.attire-item[data-v-1faf526a]{border:1px solid var(--c-grey-olive);padding:6px;font-size:.82rem;background:#fff}.attire-slot[data-v-1faf526a]{color:var(--c-grey-olive);font-size:.72rem;display:block}@media (max-width:600px){.title-grid[data-v-1faf526a],.attire-list[data-v-1faf526a]{grid-template-columns:1fr}}
.dependency-strip[data-v-a9be40f6]{display:flex;align-items:center;justify-content:center;gap:8px;padding:6px 10px;background:#fff;border-bottom:2px dashed var(--c-granite)}.dependency-label[data-v-a9be40f6],.dependency-value[data-v-a9be40f6]{font-weight:bold;font-size:.9rem}.dependency-track[data-v-a9be40f6]{flex:1;max-width:360px;height:10px;border:1.5px solid var(--c-granite);background:var(--c-mint-cream);position:relative;overflow:hidden}.dependency-fill[data-v-a9be40f6]{position:absolute;left:0;top:0;bottom:0;background:var(--c-celadon);border-right:1.5px solid var(--c-granite);transition:width .25s ease}.dependency-controls[data-v-a9be40f6]{display:flex;gap:4px}.dependency-button[data-v-a9be40f6]{width:24px;height:22px;padding:0;border:1.5px solid var(--c-granite);background:var(--c-mint-cream);color:var(--c-granite);font-family:inherit;font-weight:bold;line-height:1;cursor:pointer;box-shadow:2px 2px 0px rgba(60,73,63,.16)}.dependency-button[data-v-a9be40f6]:active:not(:disabled){transform:translate(1px,1px);box-shadow:1px 1px 0px rgba(60,73,63,.16)}.dependency-button[data-v-a9be40f6]:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.dependency-button[data-v-a9be40f6]:focus-visible{outline:2px dashed var(--c-granite);outline-offset:2px}
.inventory-grid[data-v-e7bef0ea]{display:flex;flex-direction:column;gap:8px}.item-row[data-v-e7bef0ea]{display:flex;align-items:center;border:1.5px solid var(--c-granite);padding:8px;background:#fff;transition:transform .2s}.item-row[data-v-e7bef0ea]:hover{transform:translateX(5px);background:var(--c-mint-cream)}.item-icon[data-v-e7bef0ea]{width:28px;height:28px;background:var(--c-celadon);border:1.5px solid var(--c-granite);display:flex;align-items:center;justify-content:center;margin-right:10px;font-weight:bold;font-size:.7rem}.item-detail[data-v-e7bef0ea]{flex:1}.item-name[data-v-e7bef0ea]{font-weight:bold;display:block}.item-desc[data-v-e7bef0ea]{font-size:.76rem;color:var(--c-grey-olive)}.item-count[data-v-e7bef0ea]{background:var(--c-granite);color:#fff;padding:2px 5px;font-size:.72rem;border-radius:3px}.empty-state[data-v-e7bef0ea]{text-align:center;color:var(--c-grey-olive);padding:18px;font-style:italic;font-size:.85rem}
.tabs[data-v-5a789b20]{display:flex;background-color:var(--c-grey-olive);border-bottom:3px solid var(--c-granite)}.tab-button[data-v-5a789b20]{flex:1;padding:8px;border:none;background:rgba(0,0,0,0);color:var(--c-mint-cream);font-size:.92rem;font-weight:bold;font-family:var(--font-archive);cursor:pointer;transition:all .2s;text-transform:uppercase;border-right:1.5px solid var(--c-granite)}.tab-button[data-v-5a789b20]:last-child{border-right:none}.tab-button[data-v-5a789b20]:hover{background-color:var(--c-ash-grey);color:var(--c-granite)}.tab-button.active[data-v-5a789b20]{background-color:var(--c-mint-cream);color:var(--c-granite);position:relative;top:1px;padding-bottom:10px}
.world-section[data-v-93bfdc64]{border-bottom:3px solid var(--c-granite);padding:10px;background-color:var(--c-mint-cream)}.meta-row[data-v-93bfdc64]{display:flex;justify-content:space-between;margin-bottom:6px;font-weight:bold;font-size:.9rem;border-bottom:1.5px dashed var(--c-grey-olive);padding-bottom:6px;flex-wrap:wrap;gap:6px}.event-list[data-v-93bfdc64]{display:flex;gap:8px;overflow-x:auto}.event-badge[data-v-93bfdc64]{background:#fff;border:1.5px solid var(--c-granite);padding:6px 8px;min-width:130px;flex:1;position:relative}.event-badge[data-v-93bfdc64]::before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:var(--c-celadon)}.event-title[data-v-93bfdc64]{display:block;font-weight:bold;margin-bottom:2px;padding-left:6px}.event-desc[data-v-93bfdc64]{display:block;font-size:.75rem;color:var(--c-grey-olive);padding-left:6px}@media (max-width:600px){.meta-row[data-v-93bfdc64]{flex-direction:column;gap:5px}.event-list[data-v-93bfdc64]{flex-direction:column}.event-badge[data-v-93bfdc64]{min-width:auto}}
.card[data-v-22797ed4]{width:100%;max-width:720px;background-color:var(--c-mint-cream);border:3px solid var(--c-granite);box-shadow:5px 5px 0px rgba(60,73,63,.16);display:flex;flex-direction:column;font-family:var(--font-archive);color:var(--c-granite);font-size:13px;line-height:1.35;margin:0 auto}.content-area[data-v-22797ed4]{padding:12px;min-height:0}.tab-pane[data-v-22797ed4]{display:none;animation:fadeEffect-22797ed4 .4s}.tab-pane.active[data-v-22797ed4]{display:block}@keyframes fadeEffect-22797ed4{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}
*{box-sizing:border-box;margin:0;padding:0}:root{--c-granite:#3c493f;--c-grey-olive:#7e8d85;--c-ash-grey:#b3bfb8;--c-mint-cream:#f0f7f4;--c-celadon:#a2e3c4;--font-archive:'Courier New','Microsoft YaHei',monospace}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div><script>/*! For license information please see index.js.LICENSE.txt */
(()=>{'use strict';var e={455(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=Vue,o=_;var r=n.n(o);const s='undefined'!=typeof window;let l;const c=e=>l=e,i=Symbol();function u(e){return e&&'object'==typeof e&&'[object Object]'===Object.prototype.toString.call(e)&&'function'!=typeof e.toJSON}var d;!function(e){e.direct='direct',e.patchObject='patch object',e.patchFunction='patch function'}(d||(d={}));const f=(()=>'object'==typeof window&&window.window===window?window:'object'==typeof self&&self.self===self?self:'object'==typeof globalThis&&globalThis.global===globalThis||'object'==typeof globalThis?globalThis:{HTMLElement:null})();function p(e,t,n){const a=new XMLHttpRequest;a.open('GET',e),a.responseType='blob',a.onload=function(){b(a.response,t,n)},a.onerror=function(){console.error('could not download file')},a.send()}function m(e){const t=new XMLHttpRequest;t.open('HEAD',e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function v(e){try{e.dispatchEvent(new MouseEvent('click'))}catch(t){const n=new MouseEvent('click',{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(n)}}const y='object'==typeof navigator?navigator:{userAgent:''},g=(()=>/Macintosh/.test(y.userAgent)&&/AppleWebKit/.test(y.userAgent)&&!/Safari/.test(y.userAgent))(),b=s?'undefined'!=typeof HTMLAnchorElement&&'download'in HTMLAnchorElement.prototype&&!g?function(e,t='download',n){const a=document.createElement('a');a.download=t,a.rel='noopener','string'==typeof e?(a.href=e,a.origin!==location.origin?m(a.href)?p(e,t,n):(a.target='_blank',v(a)):v(a)):(a.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){v(a)},0))}:'msSaveOrOpenBlob'in y?function(e,t='download',n){if('string'==typeof e)if(m(e))p(e,t,n);else{const t=document.createElement('a');t.href=e,t.target='_blank',setTimeout(function(){v(t)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){(a=a||open('','_blank'))&&(a.document.title=a.document.body.innerText='downloading...');if('string'==typeof e)return p(e,t,n);const o='application/octet-stream'===e.type,r=/constructor/i.test(String(f.HTMLElement))||'safari'in f,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&r||g)&&'undefined'!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if('string'!=typeof e)throw a=null,new Error('Wrong reader.result type');e=s?e:e.replace(/^data:[^;]*;/,'data:attachment/file;'),a?a.location.href=e:location.assign(e),a=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);a?a.location.assign(t):location.href=t,a=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{};const{assign:h}=Object;const w=()=>{};function E(e,t,n,o=w){e.add(t);const r=()=>{e.delete(t)&&o()};return!n&&(0,a.getCurrentScope)()&&(0,a.onScopeDispose)(r),r}function k(e,...t){e.forEach(e=>{e(...t)})}const S=e=>e(),V=Symbol(),N=Symbol();function B(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];u(r)&&u(o)&&e.hasOwnProperty(n)&&!(0,a.isRef)(o)&&!(0,a.isReactive)(o)?e[n]=B(r,o):e[n]=o}return e}const j=Symbol();function O(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,j)}const{assign:A}=Object;function C(e){return!(!(0,a.isRef)(e)||!e.effect)}function T(e,t,n={},o,r,s){let l;const i=A({actions:{}},n);const u={deep:!0};let f,p;let m,v=new Set,y=new Set;const g=o.state.value[e];s||g||(o.state.value[e]={});(0,a.ref)({});let b;function h(t){let n;f=p=!1,'function'==typeof t?(t(o.state.value[e]),n={type:d.patchFunction,storeId:e,events:m}):(B(o.state.value[e],t),n={type:d.patchObject,payload:t,storeId:e,events:m});const r=b=Symbol();(0,a.nextTick)().then(()=>{b===r&&(f=!0)}),p=!0,k(v,n,o.state.value[e])}const j=s?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{A(e,t)})}:w;const T=(t,n='')=>{if(V in t)return t[N]=n,t;const a=function(){c(o);const n=Array.from(arguments),r=new Set,s=new Set;let l;k(y,{args:n,name:a[N],store:D,after:function(e){r.add(e)},onError:function(e){s.add(e)}});try{l=t.apply(this&&this.$id===e?this:D,n)}catch(e){throw k(s,e),e}return l instanceof Promise?l.then(e=>(k(r,e),e)).catch(e=>(k(s,e),Promise.reject(e))):(k(r,l),l)};return a[V]=!0,a[N]=n,a},R={_p:o,$id:e,$onAction:E.bind(null,y),$patch:h,$reset:j,$subscribe(t,n={}){const r=E(v,t,n.detached,()=>s()),s=l.run(()=>(0,a.watch)(()=>o.state.value[e],a=>{('sync'===n.flush?p:f)&&t({storeId:e,type:d.direct,events:m},a)},A({},u,n)));return r},$dispose:function(){l.stop(),v.clear(),y.clear(),o._s.delete(e)}},D=(0,a.reactive)(R);o._s.set(e,D);const I=(o._a&&o._a.runWithContext||S)(()=>o._e.run(()=>(l=(0,a.effectScope)()).run(()=>t({action:T}))));for(const t in I){const n=I[t];if((0,a.isRef)(n)&&!C(n)||(0,a.isReactive)(n))s||(g&&O(n)&&((0,a.isRef)(n)?n.value=g[t]:B(n,g[t])),o.state.value[e][t]=n);else if('function'==typeof n){const e=T(n,t);I[t]=e,i.actions[t]=n}else 0}return A(D,I),A((0,a.toRaw)(D),I),Object.defineProperty(D,'$state',{get:()=>o.state.value[e],set:e=>{h(t=>{A(t,e)})}}),o._p.forEach(e=>{A(D,l.run(()=>e({store:D,app:o._a,pinia:o,options:i})))}),g&&s&&n.hydrate&&n.hydrate(D.$state,g),f=!0,p=!0,D}function R(e,t,n){let o;const r='function'==typeof t;function s(n,s){const u=(0,a.hasInjectionContext)();(n=n||(u?(0,a.inject)(i,null):null))&&c(n),(n=l)._s.has(e)||(r?T(e,t,o,n):function(e,t,n){const{state:o,actions:r,getters:s}=t,l=n.state.value[e];let i;i=T(e,function(){l||(n.state.value[e]=o?o():{});const t=(0,a.toRefs)(n.state.value[e]);return A(t,r,Object.keys(s||{}).reduce((t,o)=>(t[o]=(0,a.markRaw)((0,a.computed)(()=>{c(n);const t=n._s.get(e);return s[o].call(t,t)})),t),{}))},t,n,0,!0)}(e,o,n));return n._s.get(e)}return o=r?n:t,s.$id=e,s}function D(e){return!!(0,a.getCurrentScope)()&&((0,a.onScopeDispose)(e),!0)}const I='undefined'!=typeof window&&'undefined'!=typeof document,M=('undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString),L=e=>'[object Object]'===M.call(e),P=()=>{};function x(...e){if(1!==e.length)return(0,a.toRef)(...e);const t=e[0];return'function'==typeof t?(0,a.readonly)((0,a.customRef)(()=>({get:t,set:P}))):(0,a.ref)(t)}function F(e,t){return function(...n){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(o)})}}const U=e=>e();function q(e){return Array.isArray(e)?e:[e]}function H(e){const t=Object.create(null);return n=>t[n]||(t[n]=e(n))}const W=/\B([A-Z])/g,J=(H(e=>e.replace(W,'-$1').toLowerCase()),/-(\w)/g);H(e=>e.replace(J,(_,e)=>e?e.toUpperCase():''));function K(e){return e||(0,a.getCurrentInstance)()}function X(e,t,n={}){const{eventFilter:o=U,...r}=n;return(0,a.watch)(e,F(o,t),r)}function G(e,t,n={}){const{eventFilter:o,initialState:r='active',...s}=n,{eventFilter:l,pause:c,resume:i,isActive:u}=function(e=U,t={}){const{initialState:n='active'}=t,o=x('active'===n);return{isActive:(0,a.readonly)(o),pause:function(){o.value=!1},resume:function(){o.value=!0},eventFilter:(...t)=>{o.value&&e(...t)}}}(o,{initialState:r});return{stop:X(e,t,{...s,eventFilter:l}),pause:c,resume:i,isActive:u}}function Y(e,t=1e3,n={}){const{immediate:o=!0,immediateCallback:r=!1}=n;let s=null;const l=(0,a.shallowRef)(!1);function c(){s&&(clearInterval(s),s=null)}function i(){l.value=!1,c()}function u(){const n=(0,a.toValue)(t);n<=0||(l.value=!0,r&&e(),c(),l.value&&(s=setInterval(e,n)))}if(o&&I&&u(),(0,a.isRef)(t)||'function'==typeof t){D((0,a.watch)(t,()=>{l.value&&I&&u()}))}return D(i),{isActive:(0,a.shallowReadonly)(l),pause:i,resume:u}}function Z(e,t,n={}){const{eventFilter:o=U,...r}=n,s=F(o,t);let l,c,i;if('sync'===r.flush){let t=!1;c=()=>{},l=e=>{t=!0,e(),t=!1},i=(0,a.watch)(e,(...e)=>{t||s(...e)},r)}else{const t=[];let n=0,o=0;c=()=>{n=o},t.push((0,a.watch)(e,()=>{o++},{...r,flush:'sync'})),l=e=>{const t=o;e(),n+=o-t},t.push((0,a.watch)(e,(...e)=>{const t=n>0&&n===o;n=0,o=0,t||s(...e)},r)),i=()=>{t.forEach(e=>e())}}return{stop:i,ignoreUpdates:l,ignorePrevAsyncUpdates:c}}const Q=z,ee=Q.z.object({世界:Q.z.object({当前时间:Q.z.string(),当前地点:Q.z.string(),近期事务:Q.z.record(Q.z.string().describe('事务名'),Q.z.string().describe('事务描述'))}),白娅:Q.z.object({依存度:Q.z.coerce.number().transform(e=>_.clamp(e,0,100)),着装:Q.z.record(Q.z.enum(['上装','下装','内衣','袜子','鞋子','饰品']),Q.z.string().describe('服装描述')),称号:Q.z.record(Q.z.string().describe('称号名'),Q.z.object({效果:Q.z.string(),自我评价:Q.z.string()}))}).transform(e=>{const t=e.依存度<20?'消极自毁':e.依存度<40?'渴求注视':e.依存度<60?'暗中靠近':e.依存度<80?'忐忑相依':'柔软依存';return e.称号=_(e.称号).entries().takeRight(Math.ceil(e.依存度/10)).fromPairs().value(),{...e,$依存度阶段:t}}),主角:Q.z.object({物品栏:Q.z.record(Q.z.string().describe('物品名'),Q.z.object({描述:Q.z.string(),数量:Q.z.coerce.number()})).transform(e=>_.pickBy(e,({数量:e})=>e>0))})}),te=(ne=ee,'message'!==(ae={type:'message',message_id:getCurrentMessageId()}).type||void 0!==ae.message_id&&'latest'!==ae.message_id||(ae.message_id=-1),R(`mvu_data.${_(ae).entries().sortBy(e=>e[0]).map(e=>e[1]).join('.')}`,errorCatched(()=>{const e=(0,a.ref)(ne.parse(_.get(getVariables(ae),'stat_data',{})));oe&&oe(e),Y(()=>{const n=_.get(getVariables(ae),'stat_data',{}),a=ne.safeParse(n);a.error||(_.isEqual(e.value,a.data)||t(()=>{e.value=a.data}),_.isEqual(n,a.data)||updateVariablesWith(e=>_.set(e,'stat_data',a.data),ae))},2e3);const{ignoreUpdates:t}=Z(e,n=>{const a=ne.safeParse(n);a.error||(_.isEqual(n,a.data)||t(()=>{e.value=a.data}),updateVariablesWith(e=>_.set(e,'stat_data',a.data),ae))},{deep:!0});return{data:e}})));var ne,ae,oe;const re={class:'char-layout'},se={class:'section-head'},le={class:'title-grid'},ce={class:'title-name'},ie={class:'title-effect'},ue={class:'title-quote'},de={key:0,class:'title-box'},fe={class:'attire-list'},pe={class:'attire-slot'},me=(0,a.defineComponent)({__name:'CharacterPanel',setup(e){const t=te();return(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',re,[(0,a.createElementVNode)('div',se,(0,a.toDisplayString)((0,a.unref)(t).data.白娅.$依存度阶段),1),(0,a.createElementVNode)('div',le,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(t).data.白娅.称号,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'title-box'},[(0,a.createElementVNode)('span',ce,(0,a.toDisplayString)(t),1),(0,a.createElementVNode)('div',ie,(0,a.toDisplayString)(e.效果),1),(0,a.createElementVNode)('div',ue,'"'+(0,a.toDisplayString)(e.自我评价)+'"',1)]))),128)),(0,a.unref)(r()).isEmpty((0,a.unref)(t).data.白娅.称号)?((0,a.openBlock)(),(0,a.createElementBlock)('div',de,[...n[0]||(n[0]=[(0,a.createElementVNode)('span',{class:'title-name'},'无称号',-1),(0,a.createElementVNode)('div',{class:'title-effect'},'当前没有生效的称号',-1),(0,a.createElementVNode)('div',{class:'title-quote'},'"..."',-1)])])):(0,a.createCommentVNode)('v-if',!0)]),n[1]||(n[1]=(0,a.createElementVNode)('div',{class:'section-head'},'着装记录',-1)),(0,a.createElementVNode)('div',fe,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(t).data.白娅.着装,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'attire-item'},[(0,a.createElementVNode)('span',pe,'【'+(0,a.toDisplayString)(t)+'】',1),(0,a.createTextVNode)(' '+(0,a.toDisplayString)(e),1)]))),128))])]))}});var ve=n(455);const ye=(0,ve.A)(me,[['__scopeId','data-v-1faf526a']]),ge={class:'dependency-strip'},be={class:'dependency-track'},he={class:'dependency-value'},we={class:'dependency-controls'},Ee=['disabled'],ke=['disabled'],_e=(0,a.defineComponent)({__name:'DependencyBar',setup(e){const t=te();function n(e){t.data.白娅.依存度=t.data.白娅.依存度+e}return(e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',ge,[o[2]||(o[2]=(0,a.createElementVNode)('span',{class:'dependency-label'},'依存度',-1)),(0,a.createElementVNode)('div',be,[(0,a.createElementVNode)('div',{class:'dependency-fill',style:(0,a.normalizeStyle)({width:(0,a.unref)(t).data.白娅.依存度+'%'})},null,4)]),(0,a.createElementVNode)('span',he,(0,a.toDisplayString)((0,a.unref)(t).data.白娅.依存度)+'%',1),(0,a.createElementVNode)('div',we,[(0,a.createElementVNode)('button',{class:'dependency-button',disabled:(0,a.unref)(t).data.白娅.依存度<=0,type:'button',onClick:o[0]||(o[0]=e=>n(-1))},' - ',8,Ee),(0,a.createElementVNode)('button',{class:'dependency-button',disabled:(0,a.unref)(t).data.白娅.依存度>=100,type:'button',onClick:o[1]||(o[1]=e=>n(1))},' + ',8,ke)])]))}}),Se=(0,ve.A)(_e,[['__scopeId','data-v-a9be40f6']]),Ve={key:0,class:'inventory-grid'},Ne={class:'item-icon'},Be={class:'item-detail'},je={class:'item-name'},Oe={class:'item-desc'},Ae={class:'item-count'},Ce={key:1,class:'empty-state'},Te=(0,a.defineComponent)({__name:'InventoryPanel',setup(e){const t=te();function n(e){return e.includes('手机')||e.includes('电话')?'PH':e.includes('钥匙')?'KY':e.includes('钱')||e.includes('币')?'$$':e.includes('证')||e.includes('卡')?'ID':e.includes('糖')||e.includes('药')?'RX':e.includes('创可贴')||e.includes('绷带')?'+':e.substring(0,2).toUpperCase()}return(e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',null,[o[0]||(o[0]=(0,a.createElementVNode)('div',{class:'section-head'},'物品清单',-1)),(0,a.unref)(r()).isEmpty((0,a.unref)(t).data.主角.物品栏)?((0,a.openBlock)(),(0,a.createElementBlock)('div',Ce,'背包空空如也...')):((0,a.openBlock)(),(0,a.createElementBlock)('div',Ve,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(t).data.主角.物品栏,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'item-row'},[(0,a.createElementVNode)('div',Ne,(0,a.toDisplayString)(n(t)),1),(0,a.createElementVNode)('div',Be,[(0,a.createElementVNode)('span',je,(0,a.toDisplayString)(t),1),(0,a.createElementVNode)('span',Oe,(0,a.toDisplayString)(e.描述),1)]),(0,a.createElementVNode)('span',Ae,'x'+(0,a.toDisplayString)(e.数量),1)]))),128))]))]))}}),Re=(0,ve.A)(Te,[['__scopeId','data-v-e7bef0ea']]),De={class:'tabs'},Ie=['aria-expanded','onClick'],ze=(0,a.defineComponent)({__name:'TabNav',props:(0,a.mergeModels)({tabs:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:['update:modelValue'],setup(e){const t=e,n=(0,a.useModel)(e,'modelValue');return(e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)('nav',De,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.tabs,e=>((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:e.id,class:(0,a.normalizeClass)(['tab-button',{active:n.value===e.id}]),'aria-expanded':n.value===e.id,onClick:t=>{return a=e.id,void(n.value=n.value===a?null:a);var a}},(0,a.toDisplayString)(e.label),11,Ie))),128))]))}}),Me=(0,ve.A)(ze,[['__scopeId','data-v-5a789b20']]),Le={class:'world-section'},Pe={class:'meta-row'},$e={class:'event-list'},xe={class:'event-title'},Fe={class:'event-desc'},Ue={key:0,class:'event-badge'},qe=(0,a.defineComponent)({__name:'WorldSection',setup(e){const t=te(),n=(0,a.computed)(()=>{const e=t.data.世界.当前时间.match(/(\d{4}-\d{2}-\d{2})/);return e?e[1]:t.data.世界.当前时间.split(' ')[0]||'未知'}),o=(0,a.computed)(()=>{const e=t.data.世界.当前时间.match(/(\d{2}:\d{2})/);return e?e[1]:t.data.世界.当前时间.split(' ')[1]||'未知'});return(e,s)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',Le,[(0,a.createElementVNode)('div',Pe,[(0,a.createElementVNode)('span',null,'DATE: '+(0,a.toDisplayString)((0,a.unref)(n)),1),(0,a.createElementVNode)('span',null,'TIME: '+(0,a.toDisplayString)((0,a.unref)(o)),1),(0,a.createElementVNode)('span',null,'LOC: '+(0,a.toDisplayString)((0,a.unref)(t).data.世界.当前地点),1)]),(0,a.createElementVNode)('div',$e,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(t).data.世界.近期事务,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'event-badge'},[(0,a.createElementVNode)('span',xe,(0,a.toDisplayString)(t),1),(0,a.createElementVNode)('span',Fe,(0,a.toDisplayString)(e),1)]))),128)),(0,a.unref)(r()).isEmpty((0,a.unref)(t).data.世界.近期事务)?((0,a.openBlock)(),(0,a.createElementBlock)('div',Ue,[...s[0]||(s[0]=[(0,a.createElementVNode)('span',{class:'event-title'},'暂无事务',-1),(0,a.createElementVNode)('span',{class:'event-desc'},'当前没有进行中的事务',-1)])])):(0,a.createCommentVNode)('v-if',!0)])]))}}),He=(0,ve.A)(qe,[['__scopeId','data-v-93bfdc64']]);const We=I?window:void 0;I&&window.document,I&&window.navigator,I&&window.location;function Je(e){var t;const n=(0,a.toValue)(e);return null!=(t=null==n?void 0:n.$el)?t:n}function Ke(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},o=(0,a.computed)(()=>{const t=q((0,a.toValue)(e[0])).filter(e=>null!=e);return t.every(e=>'string'!=typeof e)?t:void 0}),r=(s=()=>{var t,n;return[null!=(n=null==(t=o.value)?void 0:t.map(e=>Je(e)))?n:[We].filter(e=>null!=e),q((0,a.toValue)(o.value?e[1]:e[0])),q((0,a.unref)(o.value?e[2]:e[1])),(0,a.toValue)(o.value?e[3]:e[2])]},l=([e,a,o,r])=>{if(n(),!(null==e?void 0:e.length)||!(null==a?void 0:a.length)||!(null==o?void 0:o.length))return;const s=L(r)?{...r}:r;t.push(...e.flatMap(e=>a.flatMap(t=>o.map(n=>((e,t,n,a)=>(e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)))(e,t,n,s)))))},c={flush:'post'},(0,a.watch)(s,l,{...c,immediate:!0}));var s,l,c;return D(n),()=>{r(),n()}}Symbol('vueuse-ssr-width');const Xe='undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof self?self:{},Ge='__vueuse_ssr_handlers__',Ye=Ze();function Ze(){return Ge in Xe||(Xe[Ge]=Xe[Ge]||{}),Xe[Ge]}function Qe(e,t){return Ye[e]||t}function et(e){return null==e?'any':e instanceof Set?'set':e instanceof Map?'map':e instanceof Date?'date':'boolean'==typeof e?'boolean':'string'==typeof e?'string':'object'==typeof e?'object':Number.isNaN(e)?'any':'number'}const tt={boolean:{read:e=>'true'===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},nt='vueuse-storage';function at(e,t,n,o={}){var r;const{flush:s='pre',deep:l=!0,listenToStorageChanges:c=!0,writeDefaults:i=!0,mergeDefaults:u=!1,shallow:d,window:f=We,eventFilter:p,onError:m=e=>{console.error(e)},initOnMounted:v}=o,y=(d?a.shallowRef:a.ref)('function'==typeof t?t():t),g=(0,a.computed)(()=>(0,a.toValue)(e));if(!n)try{n=Qe('getDefaultStorage',()=>{var e;return null==(e=We)?void 0:e.localStorage})()}catch(e){m(e)}if(!n)return y;const b=(0,a.toValue)(t),h=et(b),w=null!=(r=o.serializer)?r:tt[h],{pause:E,resume:k}=G(y,e=>function(e){try{const t=n.getItem(g.value);if(null==e)N(t,null),n.removeItem(g.value);else{const a=w.write(e);t!==a&&(n.setItem(g.value,a),N(t,a))}}catch(e){m(e)}}(e),{flush:s,deep:l,eventFilter:p});(0,a.watch)(g,()=>B(),{flush:s});let S=!1;const V=e=>{v&&!S||B(e.detail)};function N(e,t){if(f){const a={key:g.value,oldValue:e,newValue:t,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent('storage',a):new CustomEvent(nt,{detail:a}))}}function B(e){if(!e||e.storageArea===n)if(e&&null==e.key)y.value=b;else if(!e||e.key===g.value){E();try{const t=w.write(y.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(y.value=function(e){const t=e?e.newValue:n.getItem(g.value);if(null==t)return i&&null!=b&&n.setItem(g.value,w.write(b)),b;if(!e&&u){const e=w.read(t);return'function'==typeof u?u(e,b):'object'!==h||Array.isArray(e)?e:{...b,...e}}return'string'!=typeof t?t:w.read(t)}(e))}catch(e){m(e)}finally{e?(0,a.nextTick)(k):k()}}}return f&&c&&(n instanceof Storage?Ke(f,'storage',e=>{v&&!S||B(e)},{passive:!0}):Ke(f,nt,V)),v?function(e,t=!0,n){K(n)?(0,a.onMounted)(e,n):t?e():(0,a.nextTick)(e)}(()=>{S=!0,B()}):B(),y}Number.POSITIVE_INFINITY;const ot={class:'card'},rt={key:0,class:'content-area'},st={key:0,class:'tab-pane active'},lt={key:1,class:'tab-pane active'},ct=(0,a.defineComponent)({__name:'App',setup(e){const t=[{id:'白娅',label:'角色情报'},{id:'主角',label:'持有物品'}],n=function(e,t,n={}){const{window:a=We}=n;return at(e,t,null==a?void 0:a.localStorage,n)}('status_bar:active_tab',null);return(e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',ot,[(0,a.createVNode)(He),(0,a.createVNode)(Se),(0,a.createVNode)(Me,{modelValue:(0,a.unref)(n),'onUpdate:modelValue':o[0]||(o[0]=e=>(0,a.isRef)(n)?n.value=e:null),tabs:t},null,8,['modelValue']),(0,a.unref)(n)?((0,a.openBlock)(),(0,a.createElementBlock)('div',rt,['白娅'===(0,a.unref)(n)?((0,a.openBlock)(),(0,a.createElementBlock)('div',st,[(0,a.createVNode)(ye)])):'主角'===(0,a.unref)(n)?((0,a.openBlock)(),(0,a.createElementBlock)('div',lt,[(0,a.createVNode)(Re)])):(0,a.createCommentVNode)('v-if',!0)])):(0,a.createCommentVNode)('v-if',!0)]))}}),it=(0,ve.A)(ct,[['__scopeId','data-v-22797ed4']]);$(async()=>{await waitGlobalInitialized('Mvu'),await async function(e,{intervalMs:t=50,timeoutMs:n=5e3}={}){const a=Date.now();for(;!e();){if(Date.now()-a>n)throw new Error('[角色卡示例/状态栏] waitUntil timeout');await new Promise(e=>setTimeout(e,t))}}(()=>_.has(getVariables({type:'message'}),'stat_data')),(0,a.createApp)(it).use(function(){const e=(0,a.effectScope)(!0),t=e.run(()=>(0,a.ref)({}));let n=[],o=[];const r=(0,a.markRaw)({install(e){c(r),r._a=e,e.provide(i,r),e.config.globalProperties.$pinia=r,o.forEach(e=>n.push(e)),o=[]},use(e){return this._a?n.push(e):o.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}()).mount('#app')})})();
//# sourceMappingURL=index.js.map</script></body>